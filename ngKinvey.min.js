!function(){"use strict";angular.module("ngKinvey",["ngResource","ngBase64"]).provider("$kinvey",["$base64",function(a){var b,c=3,d="https://baas.kinvey.com/",e="appdata/",f="user/",g="group/",h={user:{"X-Kinvey-API-Version":c,Authorization:""},basic:{"X-Kinvey-API-Version":c,Authorization:""}};return{init:function(c){if(!c||!c.appKey||!c.appSecret)throw"$kinveyProvider.init requires an options object: {'appId':'YOUR APP ID','appSecret':'YOUR APP SECRET'}";b=c.appKey,h.user.Authorization=h.basic.Authorization="Basic "+a.encode(c.appKey+":"+c.appSecret)},$get:["$resource","$http","$q",function(a,c,i){function j(){var a=i.defer();return c.get(d+e+b,{headers:h.user}).then(function(b){a.resolve(b.data)},function(b){a.reject(b)}),a.promise}function k(c){return a(d+e+b+"/"+c+"/:_id",{_id:"@_id"},{create:{method:"POST",headers:h.user,params:{_id:""}},get:{method:"GET",headers:h.user},save:{method:"PUT",headers:h.user},"delete":{method:"DELETE",headers:h.user},query:{method:"GET",headers:h.user,isArray:!0,params:{_id:""}}})}var l=a(d+f+b+"/:_id",{_id:"@_id"},{login:{method:"POST",params:{_id:"login"},transformResponse:function(a){return a=angular.fromJson(a),a.error||(h.user.Authorization="Kinvey "+a._kmd.authtoken),new l(a)},headers:h.user},current:{method:"GET",params:{_id:"_me"},headers:h.user},logout:{method:"POST",params:{_id:"_logout"},transformResponse:function(){h.user.Authorization=h.basic.Authorization},headers:h.user},signup:{method:"POST",headers:h.basic,transformResponse:function(a){return a=angular.fromJson(a),a.error||(h.user.Authorization="Kinvey "+a._kmd.authtoken),new l(a)}},get:{method:"GET",headers:h.user},save:{method:"PUT",headers:h.user},query:{method:"GET",headers:h.user,isArray:!0,params:{_id:""}},remove:{method:"DELETE",params:{hard:!0},headers:h.user},"delete":{method:"DELETE",params:{hard:!0},headers:h.user}}),m=a(d+g+b+"/:_id",{_id:"@_id"},{get:{method:"GET",headers:h.user},save:{method:"PUT",headers:h.user},"delete":{method:"DELETE",headers:h.user}});return{handshake:j,User:l,Group:m,Object:k}}]}}])}();